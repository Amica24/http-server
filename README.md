# http-server

http-сервер реализует XMLRPC API и содержит 2 метода:

**READ**

  В аргументе вызова метод должен получить ключ записи из таблицы.
  Выполняет запрос данных в таблицу БД, используя полученный ключ, и
  создает запись в файле журнала с результатами запроса.
     
**SAVE**

В аргументах вызова метод должен получить:

* ключ записи из таблицы
* имя поля
* данные для поля.

  Выполняет запрос изменения записи в БД по ключу (или создания новой записи, если такая отсутствует с таким ключом)
  и создает запись в файле журнала с результатами запроса.

### Запуск проекта:

      $ git clone git@github.com:Amica24/http-server.git
      $ cd http-server
      
Установка PostgreSQL

Перед установкой обновите индекс пакетов APT:

      $ sudo apt update
Далее установите необходимые для работы PostgreSQL пакеты:
      
      $ sudo apt install postgresql postgresql-contrib -y
      
Запустите сервер базы данных:

      $ sudo systemctl start postgresql

Установка виртуального окружениия:

      $ python3 -m venv env
Активация виртуального окружения:

      $ source env/bin/activate
Установка зависимостей:

      $ pip install --upgrade pip
      $ pip install -r requirements.txt

Создайте файл с переменными окруженииия:
      
      $ sudo touch .env
И заполните его данными:   

        DATABASE_HOST = 127.0.0.1
        DATABASE_USER = postgres
        DATABASE_PWD = postgres
        DATABASE_NAME = postgres
      
Далее необходимо выполнить команду, создающую таблицу в базе данных
и заполняющую ее данными:

      $ python3 main.py
      
Запуск локального сервера:

      $ python3 xml_rpc_server.py
     
Теперь сервер готов принимать запросы. Для демонстрации работы сервера
создан клиент, запрашивающий первую запись из таблицы 'cats', а затем добавляющий
новую запись в таблицу. Выполните следующую команду:

      $ python3 xml_rpc_client.py
      
Результаты запросов записываются в файл журнала, просмотреть его можно,
открыв через графическиий интерфейс или командой:

      $ nano query_journal.txt